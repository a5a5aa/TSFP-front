import{H as I,r as k,c as o,w as v,k as le,S as ye,U as be,V as Ve,h as S,J as _e,g as J,P as oe,K as Ae,W as M,R as Ee,i as me,X as ne,o as Fe,n as we,x as Ie,Y as Se,p as pe,Z as Ne,_ as je,$ as fe,a0 as te,a as Ue,I as Ke}from"./index.4d875d08.js";import{u as Xe,v as Te,a as Je,b as Ye,c as Ze,r as xe,s as Ge,p as qe,d as et}from"./position-engine.0a8b0a7e.js";import{u as Pe,a as tt,b as $e,c as at,d as Oe,e as lt,f as ot,g as nt}from"./use-prevent-scroll.867bf119.js";import{u as it,a as ze}from"./use-timeout.d612f645.js";import{c as ke}from"./selection.efe461ed.js";import{Q as he}from"./touch.f68f2699.js";import{u as rt,a as ut}from"./focus-manager.db5612a5.js";import{T as ve,a as st}from"./QScrollArea.5ae14fb9.js";import{b as ae}from"./format.2a3572e1.js";var St=I({name:"QTooltip",inheritAttrs:!1,props:{...Xe,...Pe,...tt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Te},self:{type:String,default:"top middle",validator:Te},offset:{type:Array,default:()=>[14,14],validator:Je},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...$e],setup(e,{slots:$,emit:h,attrs:d}){let n,u;const T=J(),{proxy:{$q:m}}=T,x=k(null),y=k(!1),a=o(()=>qe(e.anchor,m.lang.rtl)),W=o(()=>qe(e.self,m.lang.rtl)),O=o(()=>e.persistent!==!0),{registerTick:b,removeTick:f}=it(),{registerTimeout:p}=ze(),{transitionProps:w,transitionStyle:c}=at(e),{localScrollTarget:l,changeScrollEvent:q,unconfigureScrollTarget:i}=Ye(e,Z),{anchorEl:s,canShow:C,anchorEvents:z}=Ze({showing:y,configureAnchorEl:F}),{show:E,hide:H}=Oe({showing:y,canShow:C,handleShow:V,handleHide:N,hideOnRouteChange:O,processOnMount:!0});Object.assign(z,{delayShow:U,delayHide:K});const{showPortal:L,hidePortal:D,renderPortal:Y}=lt(T,x,re,"tooltip");if(m.platform.is.mobile===!0){const g={anchorEl:s,innerRef:x,onClickOutside(R){return H(R),R.target.classList.contains("q-dialog__backdrop")&&Ae(R),!0}},X=o(()=>e.modelValue===null&&e.persistent!==!0&&y.value===!0);v(X,R=>{(R===!0?et:xe)(g)}),le(()=>{xe(g)})}function V(g){L(),b(()=>{u=new MutationObserver(()=>Q()),u.observe(x.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),Q(),Z()}),n===void 0&&(n=v(()=>m.screen.width+"|"+m.screen.height+"|"+e.self+"|"+e.anchor+"|"+m.lang.rtl,Q)),p(()=>{L(!0),h("show",g)},e.transitionDuration)}function N(g){f(),D(),j(),p(()=>{D(!0),h("hide",g)},e.transitionDuration)}function j(){u!==void 0&&(u.disconnect(),u=void 0),n!==void 0&&(n(),n=void 0),i(),ye(z,"tooltipTemp")}function Q(){const g=x.value;s.value===null||!g||Ge({el:g,offset:e.offset,anchorEl:s.value,anchorOrigin:a.value,selfOrigin:W.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function U(g){if(m.platform.is.mobile===!0){ke(),document.body.classList.add("non-selectable");const X=s.value,R=["touchmove","touchcancel","touchend","click"].map(G=>[X,G,"delayHide","passiveCapture"]);be(z,"tooltipTemp",R)}p(()=>{E(g)},e.delay)}function K(g){m.platform.is.mobile===!0&&(ye(z,"tooltipTemp"),ke(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),p(()=>{H(g)},e.hideDelay)}function F(){if(e.noParentEvent===!0||s.value===null)return;const g=m.platform.is.mobile===!0?[[s.value,"touchstart","delayShow","passive"]]:[[s.value,"mouseenter","delayShow","passive"],[s.value,"mouseleave","delayHide","passive"]];be(z,"anchor",g)}function Z(){if(s.value!==null||e.scrollTarget!==void 0){l.value=Ve(s.value,e.scrollTarget);const g=e.noParentEvent===!0?Q:H;q(l.value,g)}}function ie(){return y.value===!0?S("div",{...d,ref:x,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",d.class],style:[d.style,c.value],role:"tooltip"},oe($.default)):null}function re(){return S(_e,w.value,ie)}return le(j),Object.assign(T.proxy,{updatePosition:Q}),Y}}),Tt=I({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:$}){const h=o(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>S("div",{class:h.value,role:"toolbar"},oe($.default))}}),xt=I({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:$,emit:h}){const{proxy:{$q:d}}=J(),n=me(ne,M);if(n===M)return console.error("QHeader needs to be child of QLayout"),M;const u=k(parseInt(e.heightHint,10)),T=k(!0),m=o(()=>e.reveal===!0||n.view.value.indexOf("H")>-1||d.platform.is.ios&&n.isContainer.value===!0),x=o(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return T.value===!0?u.value:0;const l=u.value-n.scroll.value.position;return l>0?l:0}),y=o(()=>e.modelValue!==!0||m.value===!0&&T.value!==!0),a=o(()=>e.modelValue===!0&&y.value===!0&&e.reveal===!0),W=o(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(y.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),O=o(()=>{const l=n.rows.value.top,q={};return l[0]==="l"&&n.left.space===!0&&(q[d.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),l[2]==="r"&&n.right.space===!0&&(q[d.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),q});function b(l,q){n.update("header",l,q)}function f(l,q){l.value!==q&&(l.value=q)}function p({height:l}){f(u,l),b("size",l)}function w(l){a.value===!0&&f(T,!0),h("focusin",l)}v(()=>e.modelValue,l=>{b("space",l),f(T,!0),n.animate()}),v(x,l=>{b("offset",l)}),v(()=>e.reveal,l=>{l===!1&&f(T,e.modelValue)}),v(T,l=>{n.animate(),h("reveal",l)}),v(n.scroll,l=>{e.reveal===!0&&f(T,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const c={};return n.instances.header=c,e.modelValue===!0&&b("size",u.value),b("space",e.modelValue),b("offset",x.value),le(()=>{n.instances.header===c&&(n.instances.header=void 0,b("size",0),b("offset",0),b("space",!1))}),()=>{const l=Ee($.default,[]);return e.elevated===!0&&l.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(S(he,{debounce:0,onResize:p})),S("header",{class:W.value,style:O.value,onFocusin:w},l)}}});const Ce=150;var qt=I({name:"QDrawer",inheritAttrs:!1,props:{...Pe,...rt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...$e,"onLayout","miniState"],setup(e,{slots:$,emit:h,attrs:d}){const n=J(),{proxy:{$q:u}}=n,T=ut(e,u),{preventBodyScroll:m}=nt(),{registerTimeout:x,removeTimeout:y}=ze(),a=me(ne,M);if(a===M)return console.error("QDrawer needs to be child of QLayout"),M;let W,O=null,b;const f=k(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),p=o(()=>e.mini===!0&&f.value!==!0),w=o(()=>p.value===!0?e.miniWidth:e.width),c=k(e.showIfAbove===!0&&f.value===!1?!0:e.modelValue===!0),l=o(()=>e.persistent!==!0&&(f.value===!0||Z.value===!0));function q(t,r){if(z(),t!==!1&&a.animate(),B(0),f.value===!0){const P=a.instances[Q.value];P!==void 0&&P.belowBreakpoint===!0&&P.hide(!1),_(1),a.isContainer.value!==!0&&m(!0)}else _(0),t!==!1&&se(!1);x(()=>{t!==!1&&se(!0),r!==!0&&h("show",t)},Ce)}function i(t,r){E(),t!==!1&&a.animate(),_(0),B(D.value*w.value),ce(),r!==!0?x(()=>{h("hide",t)},Ce):y()}const{show:s,hide:C}=Oe({showing:c,hideOnRouteChange:l,handleShow:q,handleHide:i}),{addToHistory:z,removeFromHistory:E}=ot(c,C,l),H={belowBreakpoint:f,hide:C},L=o(()=>e.side==="right"),D=o(()=>(u.lang.rtl===!0?-1:1)*(L.value===!0?1:-1)),Y=k(0),V=k(!1),N=k(!1),j=k(w.value*D.value),Q=o(()=>L.value===!0?"left":"right"),U=o(()=>c.value===!0&&f.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:w.value:0),K=o(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(L.value?"R":"L")>-1||u.platform.is.ios===!0&&a.isContainer.value===!0),F=o(()=>e.overlay===!1&&c.value===!0&&f.value===!1),Z=o(()=>e.overlay===!0&&c.value===!0&&f.value===!1),ie=o(()=>"fullscreen q-drawer__backdrop"+(c.value===!1&&V.value===!1?" hidden":"")),re=o(()=>({backgroundColor:`rgba(0,0,0,${Y.value*.4})`})),g=o(()=>L.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),X=o(()=>L.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),R=o(()=>{const t={};return a.header.space===!0&&g.value===!1&&(K.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&X.value===!1&&(K.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),G=o(()=>{const t={width:`${w.value}px`,transform:`translateX(${j.value}px)`};return f.value===!0?t:Object.assign(t,R.value)}),Le=o(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Be=o(()=>`q-drawer q-drawer--${e.side}`+(N.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(T.value===!0?" q-drawer--dark q-dark":"")+(V.value===!0?" no-transition":c.value===!0?"":" q-layout--prevent-focus")+(f.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${p.value===!0?"mini":"standard"}`+(K.value===!0||F.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(g.value===!0?" q-drawer--top-padding":""))),He=o(()=>{const t=u.lang.rtl===!0?e.side:Q.value;return[[ve,Re,void 0,{[t]:!0,mouse:!0}]]}),Qe=o(()=>{const t=u.lang.rtl===!0?Q.value:e.side;return[[ve,ge,void 0,{[t]:!0,mouse:!0}]]}),We=o(()=>{const t=u.lang.rtl===!0?Q.value:e.side;return[[ve,ge,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function ue(){Me(f,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}v(f,t=>{t===!0?(W=c.value,c.value===!0&&C(!1)):e.overlay===!1&&e.behavior!=="mobile"&&W!==!1&&(c.value===!0?(B(0),_(0),ce()):s(!1))}),v(()=>e.side,(t,r)=>{a.instances[r]===H&&(a.instances[r]=void 0,a[r].space=!1,a[r].offset=0),a.instances[t]=H,a[t].size=w.value,a[t].space=F.value,a[t].offset=U.value}),v(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ue()}),v(()=>e.behavior+e.breakpoint,ue),v(a.isContainer,t=>{c.value===!0&&m(t!==!0),t===!0&&ue()}),v(a.scrollbarWidth,()=>{B(c.value===!0?0:void 0)}),v(U,t=>{A("offset",t)}),v(F,t=>{h("onLayout",t),A("space",t)}),v(L,()=>{B()}),v(w,t=>{B(),de(e.miniToOverlay,t)}),v(()=>e.miniToOverlay,t=>{de(t,w.value)}),v(()=>u.lang.rtl,()=>{B()}),v(()=>e.mini,()=>{e.modelValue===!0&&(De(),a.animate())}),v(p,t=>{h("miniState",t)});function B(t){t===void 0?we(()=>{t=c.value===!0?0:w.value,B(D.value*t)}):(a.isContainer.value===!0&&L.value===!0&&(f.value===!0||Math.abs(t)===w.value)&&(t+=D.value*a.scrollbarWidth.value),j.value=t)}function _(t){Y.value=t}function se(t){const r=t===!0?"remove":a.isContainer.value!==!0?"add":"";r!==""&&document.body.classList[r]("q-body--drawer-toggle")}function De(){O!==null&&clearTimeout(O),n.proxy&&n.proxy.$el&&n.proxy.$el.classList.add("q-drawer--mini-animate"),N.value=!0,O=setTimeout(()=>{O=null,N.value=!1,n&&n.proxy&&n.proxy.$el&&n.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Re(t){if(c.value!==!1)return;const r=w.value,P=ae(t.distance.x,0,r);if(t.isFinal===!0){P>=Math.min(75,r)===!0?s():(a.animate(),_(0),B(D.value*r)),V.value=!1;return}B((u.lang.rtl===!0?L.value!==!0:L.value)?Math.max(r-P,0):Math.min(0,P-r)),_(ae(P/r,0,1)),t.isFirst===!0&&(V.value=!0)}function ge(t){if(c.value!==!0)return;const r=w.value,P=t.direction===e.side,ee=(u.lang.rtl===!0?P!==!0:P)?ae(t.distance.x,0,r):0;if(t.isFinal===!0){Math.abs(ee)<Math.min(75,r)===!0?(a.animate(),_(1),B(0)):C(),V.value=!1;return}B(D.value*ee),_(ae(1-ee/r,0,1)),t.isFirst===!0&&(V.value=!0)}function ce(){m(!1),se(!0)}function A(t,r){a.update(e.side,t,r)}function Me(t,r){t.value!==r&&(t.value=r)}function de(t,r){A("size",t===!0?e.miniWidth:r)}return a.instances[e.side]=H,de(e.miniToOverlay,w.value),A("space",F.value),A("offset",U.value),e.showIfAbove===!0&&e.modelValue!==!0&&c.value===!0&&e["onUpdate:modelValue"]!==void 0&&h("update:modelValue",!0),Fe(()=>{h("onLayout",F.value),h("miniState",p.value),W=e.showIfAbove===!0;const t=()=>{(c.value===!0?q:i)(!1,!0)};if(a.totalWidth.value!==0){we(t);return}b=v(a.totalWidth,()=>{b(),b=void 0,c.value===!1&&e.showIfAbove===!0&&f.value===!1?s(!1):t()})}),le(()=>{b!==void 0&&b(),O!==null&&(clearTimeout(O),O=null),c.value===!0&&ce(),a.instances[e.side]===H&&(a.instances[e.side]=void 0,A("size",0),A("offset",0),A("space",!1))}),()=>{const t=[];f.value===!0&&(e.noSwipeOpen===!1&&t.push(Ie(S("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),He.value)),t.push(Se("div",{ref:"backdrop",class:ie.value,style:re.value,"aria-hidden":"true",onClick:C},void 0,"backdrop",e.noSwipeBackdrop!==!0&&c.value===!0,()=>We.value)));const r=p.value===!0&&$.mini!==void 0,P=[S("div",{...d,key:""+r,class:[Le.value,d.class]},r===!0?$.mini():oe($.default))];return e.elevated===!0&&c.value===!0&&P.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(Se("aside",{ref:"content",class:Be.value,style:G.value},P,"contentclose",e.noSwipeClose!==!0&&f.value===!0,()=>Qe.value)),S("div",{class:"q-drawer-container"},t)}}}),kt=I({name:"QPageContainer",setup(e,{slots:$}){const{proxy:{$q:h}}=J(),d=me(ne,M);if(d===M)return console.error("QPageContainer needs to be child of QLayout"),M;pe(Ne,!0);const n=o(()=>{const u={};return d.header.space===!0&&(u.paddingTop=`${d.header.size}px`),d.right.space===!0&&(u[`padding${h.lang.rtl===!0?"Left":"Right"}`]=`${d.right.size}px`),d.footer.space===!0&&(u.paddingBottom=`${d.footer.size}px`),d.left.space===!0&&(u[`padding${h.lang.rtl===!0?"Right":"Left"}`]=`${d.left.size}px`),u});return()=>S("div",{class:"q-page-container",style:n.value},oe($.default))}}),Ct=I({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:$,emit:h}){const{proxy:{$q:d}}=J(),n=k(null),u=k(d.screen.height),T=k(e.container===!0?0:d.screen.width),m=k({position:0,direction:"down",inflectionPoint:0}),x=k(0),y=k(je.value===!0?0:fe()),a=o(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),W=o(()=>e.container===!1?{minHeight:d.screen.height+"px"}:null),O=o(()=>y.value!==0?{[d.lang.rtl===!0?"left":"right"]:`${y.value}px`}:null),b=o(()=>y.value!==0?{[d.lang.rtl===!0?"right":"left"]:0,[d.lang.rtl===!0?"left":"right"]:`-${y.value}px`,width:`calc(100% + ${y.value}px)`}:null);function f(i){if(e.container===!0||document.qScrollPrevented!==!0){const s={position:i.position.top,direction:i.direction,directionChanged:i.directionChanged,inflectionPoint:i.inflectionPoint.top,delta:i.delta.top};m.value=s,e.onScroll!==void 0&&h("scroll",s)}}function p(i){const{height:s,width:C}=i;let z=!1;u.value!==s&&(z=!0,u.value=s,e.onScrollHeight!==void 0&&h("scrollHeight",s),c()),T.value!==C&&(z=!0,T.value=C),z===!0&&e.onResize!==void 0&&h("resize",i)}function w({height:i}){x.value!==i&&(x.value=i,c())}function c(){if(e.container===!0){const i=u.value>x.value?fe():0;y.value!==i&&(y.value=i)}}let l=null;const q={instances:{},view:o(()=>e.view),isContainer:o(()=>e.container),rootRef:n,height:u,containerHeight:x,scrollbarWidth:y,totalWidth:o(()=>T.value+y.value),rows:o(()=>{const i=e.view.toLowerCase().split(" ");return{top:i[0].split(""),middle:i[1].split(""),bottom:i[2].split("")}}),header:te({size:0,offset:0,space:!1}),right:te({size:300,offset:0,space:!1}),footer:te({size:0,offset:0,space:!1}),left:te({size:300,offset:0,space:!1}),scroll:m,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(i,s,C){q[i][s]=C}};if(pe(ne,q),fe()>0){let C=function(){i=null,s.classList.remove("hide-scrollbar")},z=function(){if(i===null){if(s.scrollHeight>d.screen.height)return;s.classList.add("hide-scrollbar")}else clearTimeout(i);i=setTimeout(C,300)},E=function(H){i!==null&&H==="remove"&&(clearTimeout(i),C()),window[`${H}EventListener`]("resize",z)},i=null;const s=document.body;v(()=>e.container!==!0?"add":"remove",E),e.container!==!0&&E("add"),Ue(()=>{E("remove")})}return()=>{const i=Ke($.default,[S(st,{onScroll:f}),S(he,{onResize:p})]),s=S("div",{class:a.value,style:W.value,ref:e.container===!0?void 0:n,tabindex:-1},i);return e.container===!0?S("div",{class:"q-layout-container overflow-hidden",ref:n},[S(he,{onResize:w}),S("div",{class:"absolute-full",style:O.value},[S("div",{class:"scroll",style:b.value},[s])])]):s}}});export{Ct as Q,xt as a,Tt as b,St as c,qt as d,kt as e};
