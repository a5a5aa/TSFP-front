import{Q as u}from"./QIcon.5ca772cc.js";import{Q as m}from"./QInput.2b55d701.js";import{u as j,a as P}from"./focus-manager.db5612a5.js";import{h as d,H as F,E as M,G as $,r as q,c,I as A,P as D,g as E,au as x,K as C,a0 as K,m as L,y as N,t as i,av as O,C as f,d as s,aw as G,an as H,ao as S}from"./index.4d875d08.js";import{o as J,u as W}from"./option-sizes.645a7745.js";import{a as X,h as Y,Q as Z}from"./QPage.9f43aec5.js";import{Q}from"./QBtn.0ecae08c.js";import{Q as ee}from"./QForm.eb749f44.js";import{v as ae}from"./index.203ecb31.js";import{u as le}from"./use-quasar.4f5cff6d.js";import"./Ripple.cf9a4ce0.js";import"./use-router-link.2f5a64da.js";import"./vm.594ed3a6.js";const oe=d("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[d("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),d("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var B=F({name:"QRadio",props:{...j,...M,...X,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:p,emit:g}){const{proxy:v}=E(),h=P(e,v.$q),l=$(e,J),n=q(null),{refocusTargetEl:w,refocusTarget:b}=W(e,n),a=c(()=>x(e.modelValue)===x(e.val)),o=c(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(h.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),t=c(()=>{const r=e.color!==void 0&&(e.keepColor===!0||a.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${a.value===!0?"truthy":"falsy"}${r}`}),y=c(()=>(a.value===!0?e.checkedIcon:e.uncheckedIcon)||null),z=c(()=>e.disable===!0?-1:e.tabindex||0),I=c(()=>{const r={type:"radio"};return e.name!==void 0&&Object.assign(r,{".checked":a.value===!0,"^checked":a.value===!0?"checked":void 0,name:e.name,value:e.val}),r}),U=Y(I);function k(r){r!==void 0&&(C(r),b(r)),e.disable!==!0&&a.value!==!0&&g("update:modelValue",e.val,r)}function R(r){(r.keyCode===13||r.keyCode===32)&&C(r)}function T(r){(r.keyCode===13||r.keyCode===32)&&k(r)}return Object.assign(v,{set:k}),()=>{const r=y.value!==null?[d("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[d(u,{class:"q-radio__icon",name:y.value})])]:[oe];e.disable!==!0&&U(r,"unshift"," q-radio__native q-ma-none q-pa-none");const V=[d("div",{class:t.value,style:l.value,"aria-hidden":"true"},r)];w.value!==null&&V.push(w.value);const _=e.label!==void 0?A(p.default,[e.label]):D(p.default);return _!==void 0&&V.push(d("div",{class:"q-radio__label q-anchor--skip"},_)),d("div",{ref:n,class:o.value,tabindex:z.value,role:"radio","aria-label":e.label,"aria-checked":a.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:k,onKeydown:R,onKeyup:T},V)}}});const te={class:"register text-center q-pa-xl bg-white rounded-borders shadow-5 q-my-xl"},re=f("h5",null,"\u6703\u54E1\u8A3B\u518A",-1),se={class:"row flex-center justify-between"},ne={class:"col-sm-6"},ie={class:"row justify-between"},ue={class:"btn row flex-center"},ye={__name:"RegisterView",setup(e){const p=O(),g=q(!1),v=le(),h=q(0),l=K({name:"",nickname:"",gender:"male",email:"",phone:"",password:"",passwordConfirm:""}),n={name(a){return a.length>=2&&a.length<=5||"\u9577\u5EA6\u5FC5\u9808\u70BA 2 ~ 5 \u500B\u5B57"},email(a){return ae.isEmail(a)||"\u4FE1\u7BB1\u683C\u5F0F\u932F\u8AA4"},required(a){return!!a||"\u6B04\u4F4D\u5FC5\u586B"},phone(a){return a.length>12||"\u624B\u6A5F\u865F\u78BC\u9577\u5EA6\u6709\u8AA4"},length(a){return a.length>=4&&a.length<=20||"\u9577\u5EA6\u5FC5\u9808\u70BA 4 ~ 20 \u500B\u5B57"},passwordConfirm(a){return a===l.password||"\u5BC6\u78BC\u4E0D\u4E00\u81F4"}},w=async()=>{g.value=!0;try{console.log(l),await H.post("/users",l),await b(),await setTimeout(()=>{S.fire({width:"18rem",icon:"success",text:"\u8A3B\u518A\u6210\u529F",iconColor:"#C5A768",confirmButtonColor:"#2b2b2b"}),p.push("/login")},2e3)}catch(a){b(),setTimeout(()=>{var o,t;S.fire({width:"18rem",icon:"error",text:((t=(o=a==null?void 0:a.response)==null?void 0:o.data)==null?void 0:t.message)||"\u767C\u751F\u932F\u8AA4",iconColor:"#C5A768",confirmButtonColor:"#2b2b2b"})},2e3)}g.value=!1},b=()=>{v.loading.show(),h.value=setTimeout(()=>{v.loading.hide(),h.value=0},2e3)};return(a,o)=>(L(),N(Z,{class:"row flex-center"},{default:i(()=>[f("div",te,[re,s(ee,{onSubmit:G(w,["prevent"]),class:"q-gutter-md q-mt-md"},{default:i(()=>[f("div",se,[s(m,{class:"col-xs-5",modelValue:l.name,"onUpdate:modelValue":o[0]||(o[0]=t=>l.name=t),label:"\u59D3\u540D *","lazy-rules":"",rules:[n.name,n.required]},{prepend:i(()=>[s(u,{name:"fa-solid fa-user"})]),_:1},8,["modelValue","rules"]),f("div",ne,[s(B,{modelValue:l.gender,"onUpdate:modelValue":o[1]||(o[1]=t=>l.gender=t),val:"M",label:"\u751F\u7406\u7537",class:"q-mr-md male"},null,8,["modelValue"]),s(B,{modelValue:l.gender,"onUpdate:modelValue":o[2]||(o[2]=t=>l.gender=t),val:"F",label:"\u751F\u7406\u5973"},null,8,["modelValue"])])]),f("div",ie,[s(m,{class:"col-xs-12 col-sm-5",modelValue:l.nickname,"onUpdate:modelValue":o[3]||(o[3]=t=>l.nickname=t),label:"\u66B1\u7A31 *","lazy-rules":"",rules:[n.required]},{prepend:i(()=>[s(u,{name:"fa-brands fa-odnoklassniki"})]),_:1},8,["modelValue","rules"]),s(m,{class:"col-xs-12 col-sm-6",modelValue:l.phone,"onUpdate:modelValue":o[4]||(o[4]=t=>l.phone=t),label:"\u624B\u6A5F\u865F\u78BC *",mask:"#### - ######","lazy-rules":"",rules:[n.phone,n.required]},{prepend:i(()=>[s(u,{name:"fa-solid fa-phone"})]),_:1},8,["modelValue","rules"])]),s(m,{modelValue:l.email,"onUpdate:modelValue":o[5]||(o[5]=t=>l.email=t),label:"\u96FB\u5B50\u4FE1\u7BB1 *",hint:"* \u6B64\u4FE1\u7BB1\u5C07\u4F5C\u70BA\u672A\u4F86\u5E33\u865F\u4F7F\u7528","lazy-rules":"",rules:[n.email,n.required]},{prepend:i(()=>[s(u,{name:"fa-regular fa-envelope"})]),_:1},8,["modelValue","rules"]),s(m,{type:"password",modelValue:l.password,"onUpdate:modelValue":o[6]||(o[6]=t=>l.password=t),label:"\u5BC6\u78BC *","lazy-rules":"",rules:[n.length,n.required]},{prepend:i(()=>[s(u,{name:"fa-solid fa-lock"})]),_:1},8,["modelValue","rules"]),s(m,{type:"password",modelValue:l.passwordConfirm,"onUpdate:modelValue":o[7]||(o[7]=t=>l.passwordConfirm=t),label:"\u78BA\u8A8D\u5BC6\u78BC *","lazy-rules":"",rules:[n.passwordConfirm,n.required]},{prepend:i(()=>[s(u,{name:"fa-solid fa-lock"})]),_:1},8,["modelValue","rules"]),f("div",ue,[s(Q,{dense:"",class:"submit col-4 bg-primary text-white",label:"\u52A0\u5165\u6703\u54E1",type:"submit",onClick:b})]),s(Q,{class:"to_register",label:"\u5DF2\u6709\u5E33\u865F\uFF1F\xA0\u7ACB\u5373\u767B\u5165\xA0",to:"/login",flat:""},{default:i(()=>[s(u,{name:"fa-solid fa-circle-arrow-right"})]),_:1})]),_:1},8,["onSubmit"])])]),_:1}))}};export{ye as default};
